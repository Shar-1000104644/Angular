<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Pr&aacute;ctica 2 - JS Objects
    </title>
    <link rel="stylesheet" href="css/bootstrap.min.css">
  </head>
  <body>
    <div class="container">
      <div class="jumbotron">
        <h2>Registro de Familiares
        </h2>
      </div>
      <form>
        <fieldset>
          <legend>Datos del padre
          </legend>
          <span class="help-block">
            Ingrese los datos personales del padre
          </span>
          <div class="form-group">
            <label for="nombre_padre">
              Nombre 
            </label>
            <input type="text" id="nombre_padre" placeholder="Ingrese el nombre" class="form-control">
          </div>
          <div class="form-group">
            <label for="apellido_padre">
              Apellido 
            </label>
            <input type="text" id="apellido_padre" placeholder="Ingrese el apellido" class="form-control">
          </div>
          <div class="form-group">
            <label for="edad_padre">
              Edad 
            </label>
            <input type="number" id="edad_padre" placeholder="Ingrese la edad" min="0" max="150" class="form-control">
          </div>
        </fieldset>
        <fieldset>
          <legend>Datos de la madre
          </legend>
          <span class="help-block">
            Ingrese los datos personales de la madre
          </span>
          <div class="form-group">
            <label for="nombre_madre">
              Nombre 
            </label>
            <input type="text" id="nombre_madre" placeholder="Ingrese el nombre" class="form-control">
          </div>
          <div class="form-group">
            <label for="apellido_madre">
              Apellido 
            </label>
            <input type="text" id="apellido_madre" placeholder="Ingrese el apellido" class="form-control">
          </div>
          <div class="form-group">
            <label for="edad_madre">
              Edad 
            </label>
            <input type="number" id="edad_madre" placeholder="Ingrese la edad" min="0" max="150" class="form-control">
          </div>
        </fieldset>
        <fieldset>
          <legend>Datos del hijo
          </legend>
          <span class="help-block">
            Ingrese los datos personales del hijo
          </span>
          <div class="form-group">
            <label for="nombre_hijo">
              Nombre 
            </label>
            <input type="text" id="nombre_hijo" placeholder="Ingrese el nombre" class="form-control">
          </div>
          <div class="form-group">
            <label for="apellido_hijo">
              Apellido 
            </label>
            <input type="text" id="apellido_hijo" placeholder="Ingrese el apellido" class="form-control">
          </div>
          <div class="form-group">
            <label for="edad_hijo">
              Edad 
            </label>
            <input type="number" id="edad_hijo" placeholder="Ingrese la edad" min="0" max="150" class="form-control">
          </div>
        </fieldset>
        <button type="button" onclick="showInfo()" class="btn btn-primary"> Registrar 
        </button>
        <button type="reset" class="btn btn-default"> Reiniciar 
        </button>
      </form>
      <div class="page-header">
        <h2>Resultado de registro
        </h2>
      </div>
      <div class="row">
        <div id="resultado_padre" class="col-sm-4">
          <h3>Padre
          </h3>
          <p>...
          </p>
        </div>
        <div id="resultado_madre" class="col-sm-4">
          <h3>Madre
          </h3>
          <p>...
          </p>
        </div>
        <div id="resultado_hijo" class="col-sm-4">
          <h3>Hijo
          </h3>
          <p>...
          </p>
        </div>
      </div>
    </div>
    <script type="text/javascript">
      
      /**
       * Definición del objeto plantilla persona que puede recibir tres parámetros
       */
      function persona(parnombre, parapellido, paredad) {
        // Atributos del objeto persona
        this.apellido = parapellido;
        this.nombre = parnombre;
        this.edad = paredad;
      
        // Comportamiento para imprimir datos en HTML, recibe el parámetro para indicar en que sección se va imprimir
        this.printHtml = function(containerResultado) {
          var resultadoElement = document.getElementById(containerResultado);
          var defaultElements = resultadoElement.getElementsByTagName("p");
          if (defaultElements && defaultElements.length) {
            while (defaultElements.length > 0) {
              resultadoElement.removeChild(defaultElements[defaultElements.length - 1]);
            }
          }
          resultadoElement.innerHTML = resultadoElement.innerHTML + "<p>" + this.nombre + " " + this.apellido + "</p><p>edad " + this.edad + " años</p>"+'<p>' +JSON.stringify(this) +'</p>';
        };
      }

      /**
       * Método para la generación de los objetos madre, padre e hijo
       */
      function showInfo() {
      
        // Creación del objeto madre tomando como base a la plantilla persona
        var madre = new persona();
        madre.nombre = document.getElementById("nombre_madre").value;
        madre.apellido = document.getElementById("apellido_madre").value;
        madre.edad = document.getElementById("edad_madre").value;
        // Invocación al comportamiento de impresión para madre
        madre.printHtml("resultado_madre");

        
        // alert(JSON.stringify(madre));
      

        // Creación del objeto padre tomando como base a la plantilla persona
        var padre = new persona();
        padre.nombre = document.getElementById("nombre_padre").value;
        padre.apellido = document.getElementById("apellido_padre").value;
        padre.edad = document.getElementById("edad_padre").value;
        // Invocación al comportamiento de impresión para padre
        padre.printHtml("resultado_padre");
      

        // Creación del objeto hijo tomando como base a la plantilla persona
        var hijo = new persona();
        hijo.nombre = document.getElementById("nombre_hijo").value;
        hijo.apellido = document.getElementById("apellido_hijo").value;
        hijo.edad = document.getElementById("edad_hijo").value;
        // Invocación al comportamiento de impresión para hijo
        hijo.printHtml("resultado_hijo");

      }


    </script>
  </body>
</html>
